<ion-header translucent>
  <ion-toolbar>
    <svg class="w-full h-[38px]" stroke-miterlimit="10"
      style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
      viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="Layer-1">
        <path
          d="M23.3478 6.35092C22.913 6.58487 22.3395 6.83758 21.6271 7.10904C20.9148 7.38051 19.9487 7.67139 18.7289 7.9817C17.5091 8.292 16.1005 8.54354 14.503 8.73632C12.9056 8.92909 11.4796 9.0301 10.2252 9.03933C8.97084 9.04857 8.12982 9.14819 7.70218 9.33821C7.27454 9.52822 6.96365 9.70659 6.76949 9.87331C6.57534 10.04 6.42169 10.2145 6.30854 10.3967C6.25197 10.4878 6.1954 10.5789 6.13882 10.67C6.68086 10.7397 7.22289 10.8094 7.76492 10.8791C8.84899 11.0185 9.96402 11.0959 11.11 11.1112C12.256 11.1265 13.3264 11.0934 14.321 11.0119C15.3157 10.9303 16.3295 10.7958 17.3623 10.6082C18.3951 10.4207 19.2117 10.2145 19.812 9.98957C20.4124 9.76464 20.9115 9.52035 21.3094 9.25668C21.7072 8.99302 22.133 8.62145 22.5868 8.14199C23.0407 7.66253 23.3807 7.24058 23.607 6.87615C23.8333 6.51173 23.9554 6.27459 23.9732 6.16476C23.9821 6.10984 23.9911 6.05492 24 6C23.7826 6.11697 23.5652 6.23395 23.3478 6.35092Z"
          fill="#d80303" fill-rule="evenodd" opacity="1" stroke="none" />
        <path
          d="M21.9384 9.81868C21.755 9.9195 21.2785 10.0888 20.509 10.3267C19.7394 10.5646 18.6876 10.8051 17.3534 11.0482C16.0192 11.2914 14.5742 11.4453 13.0185 11.5102C11.4627 11.575 9.87413 11.5204 8.2528 11.3462C6.63147 11.172 5.64096 11.3562 5.28127 11.899C5.10143 12.1704 4.92158 12.4418 4.74174 12.7132C5.38801 12.8481 6.03429 12.983 6.68057 13.118C7.97312 13.3878 8.88624 13.5512 9.41993 13.6079C9.95363 13.6647 10.8763 13.7053 12.1878 13.7296C13.4994 13.754 14.6222 13.7196 15.5561 13.6264C16.4901 13.5332 17.2096 13.4103 17.7146 13.2578C18.2197 13.1052 18.6777 12.921 19.0887 12.7052C19.4997 12.4893 19.9708 12.1604 20.502 11.7184C21.0332 11.2764 21.4579 10.848 21.7759 10.4331C22.0939 10.0183 22.2464 9.78698 22.2332 9.73917C22.2267 9.71526 22.2201 9.69136 22.2136 9.66746C22.1219 9.71786 22.0301 9.76827 21.9384 9.81868Z"
          fill="#d80303" fill-rule="evenodd" opacity="1" stroke="none" />
        <path
          d="M19.6713 13.3602C19.4914 13.4391 18.8952 13.5742 17.8827 13.7656C16.8701 13.957 15.7635 14.0851 14.5627 14.1499C13.3619 14.2147 12.0384 14.1994 10.5922 14.1039C9.146 14.0085 7.75637 13.822 6.42331 13.5444C5.09025 13.2668 4.26293 13.3464 3.94134 13.7832C3.78055 14.0016 3.61976 14.22 3.45897 14.4384C3.95277 14.6121 4.44657 14.7859 4.94037 14.9596C5.92797 15.307 7.03945 15.5989 8.27482 15.8352C9.51019 16.0714 10.7801 16.2237 12.0845 16.292C13.389 16.3603 14.3086 16.355 14.8435 16.2761C15.3784 16.1972 15.9579 16.0362 16.5821 15.7932C17.2063 15.5502 17.8144 15.2135 18.4064 14.7831C18.9984 14.3527 19.4087 14.0122 19.6374 13.7614C19.8661 13.5107 19.9739 13.3615 19.9608 13.3137C19.9542 13.2898 19.9477 13.2659 19.9411 13.2419C19.8512 13.2814 19.7612 13.3208 19.6713 13.3602Z"
          fill="#d80303" fill-rule="evenodd" opacity="1" stroke="none" />
        <path
          d="M2.76218 15.2565C2.50253 15.5692 1.97725 16.1029 1.18635 16.8577C0.790901 17.2351 0.39545 17.6124-4.84461e-16 17.9898C0.135209 17.993 0.270417 17.9962 0.405626 17.9995C0.676043 18.0059 1.0078 17.9561 1.40091 17.8501C1.79401 17.744 2.12636 17.6264 2.39795 17.4971C2.66954 17.3679 2.92623 17.2018 3.16803 16.9989C3.40983 16.796 3.62008 16.7229 3.79878 16.7798C3.97747 16.8366 4.2747 16.8708 4.69045 16.8824C5.1062 16.8939 5.44273 16.879 5.70004 16.8376C5.95735 16.7962 6.30994 16.6825 6.75784 16.4963C6.98178 16.4033 7.20573 16.3102 7.42967 16.2171C6.94064 16.0783 6.45161 15.9395 5.96258 15.8006C4.98452 15.523 4.27152 15.2847 3.82358 15.0857C3.37564 14.8868 3.02184 14.9437 2.76218 15.2565Z"
          fill="#d80303" fill-rule="evenodd" opacity="1" stroke="none" />
      </g>
    </svg>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen force-overscroll>
  <ng-container *ngIf="listings$ | async as listings; else loading">
    <ion-refresher pullFactor="0.4" slot="fixed" (ionRefresh)="refresh($event)" class="pt-4">
      <ion-refresher-content refreshingSpinner="circles" pullingIcon="circles"></ion-refresher-content>
    </ion-refresher>
    <ng-container *ngIf="listings.length; else empty">
      <bloodstock-listing-item *ngFor="let listing of listings; trackBy: trackListings;" [data]="listing"></bloodstock-listing-item>
      <ion-infinite-scroll (ionInfinite)="loadFeed($event)">
        <ion-infinite-scroll-content loadingSpinner="crescent"></ion-infinite-scroll-content>
      </ion-infinite-scroll>
    </ng-container>
  </ng-container>
</ion-content>

<ng-template #loading>
  <bloodstock-listing-item-skeleton *ngFor="let i of arr;"></bloodstock-listing-item-skeleton>
</ng-template>
<ng-template #empty>
  <div class="flex flex-col items-center justify-center w-full h-full px-4 text-center">
    <ion-icon name="cloud-outline" color="light" class="w-full h-10"></ion-icon>
    <ion-text class="-mt-3" color="light">
      <h1 class="font-semibold" color="light">Your Feed is Empty</h1>
    </ion-text>
    <ion-text class="-mt-3">
      <p>Try following some more lofts</p>
    </ion-text>
    <ion-button class="py-1 mt-6" size="default" color="secondary">View Featured Lofts</ion-button>
  </div>
</ng-template>

