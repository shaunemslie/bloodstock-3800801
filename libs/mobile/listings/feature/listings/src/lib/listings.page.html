<ion-header [translucent]="true" collapse="fade">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="secondary" defaultHref="browse"></ion-back-button>
    </ion-buttons>
    <ion-title> Listings </ion-title>
    <ion-buttons slot="end">
      <ion-button id="open-modal" color="secondary">Filters (6)</ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar placeholder="Search All Listings..."></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" [forceOverscroll]="true">
  <ion-list>
    <bloodstock-listing-item-skeleton></bloodstock-listing-item-skeleton>
    <bloodstock-listing-item-skeleton></bloodstock-listing-item-skeleton>
    <bloodstock-listing-item-skeleton></bloodstock-listing-item-skeleton>
    <bloodstock-listing-item-skeleton></bloodstock-listing-item-skeleton>
  </ion-list>
  <ng-container *ngTemplateOutlet="filtersModalTpl;"></ng-container>
</ion-content>

<ng-template #filtersModalTpl="">
  <ion-modal trigger="open-modal">
    <ng-template>
      <ion-header collapse="fade">
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button color="secondary" (click)="dismissFilters()"
              >Cancel</ion-button
            >
          </ion-buttons>
          <ion-title> Filters (6) </ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Reset</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item-divider class="min-h-[18px]"></ion-item-divider>
          <ion-item lines="none" button>
            <ion-label class="font-bold">Sort by</ion-label>
            <ion-note>Price/Bid Amt. (low to high)</ion-note>
          </ion-item>
          <ion-item-divider class="min-h-[18px]"></ion-item-divider>
          <ion-list-header class="mt-0">
            <ion-label class="text-[17px] mt-0">
              Filter by (6 selected)
            </ion-label>
          </ion-list-header>
          <ion-item lines="none" button>
            <ion-label>Country</ion-label>
            <ion-note>South Africa (ZA)</ion-note>
          </ion-item>
          <ion-item-divider class="min-h-[6px]"></ion-item-divider>
          <ion-item button="">
            <ion-label>Tags</ion-label>
            <ion-note>0 selected</ion-note>
          </ion-item>
          <ion-item lines="none" button>
            <ion-label>Listing Type</ion-label>
            <ion-note>Auctions</ion-note>
          </ion-item>
          <ion-item-divider class="min-h-[6px]"></ion-item-divider>
          <ion-item button="">
            <ion-label>Tags</ion-label>
            <ion-note>0 selected</ion-note>
          </ion-item>
          <ion-item lines="none" button>
            <ion-label>Listing Type</ion-label>
            <ion-note>Auctions</ion-note>
          </ion-item>
          <ion-item-divider class="min-h-[18px]"></ion-item-divider>
          <ion-item>
            <ion-label>Show Listings From All Lofts</ion-label>
            <ion-checkbox color="secondary" slot="end" checked></ion-checkbox>
          </ion-item>
          <ion-item>
            <ion-label>Only From Verified Lofts</ion-label>
            <ion-checkbox color="secondary" slot="end"></ion-checkbox>
          </ion-item>
          <ion-item lines="full">
            <ion-label>Only From Unverified Lofts</ion-label>
            <ion-checkbox color="secondary" slot="end"></ion-checkbox>
          </ion-item>
        </ion-list>
      </ion-content>

      <ion-footer class="ion-no-border">
        <ion-toolbar color="undefined">
          <ion-button color="secondary" expand="block"
            >Apply 6 Filters & Sort</ion-button
          >
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </ion-modal>
</ng-template>
